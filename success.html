<!DOCTYPE html>
<html>
<head>
  <title>Return to Telegram</title>
  <script type="text/javascript">
    const urlParams = new URLSearchParams(window.location.search);
    const sessionId = urlParams.get('session_id');
    console.log("found sessionId=" + sessionId);
    
    // document.getElementById("myButton").onclick = function () {
        // location.href = "https://t.me/KanoonCharityBot?start=payment_success_"+ sessionId;
    // };

    function redirectToTelegram() {
      window.location.href = "https://t.me/KanoonCharityBot?start=payment_success_" + sessionId;
      window.close();  // Try to close the tab
    }


    function redirectToTelegram3() {
      window.location.href = "tg://resolve?domain=KanoonCharityBot&start=payment_success_" + sessionId;
      window.close();  // Try to close the tab
    }
    
    function tryCloseWindow() {
      setTimeout(() => {
        window.close();  // Try to close the tab
      }, 3000);  // Wait 3 seconds before trying to close
    }

    // window.onload = function() {
      // tryCloseWindow();
    // };
  </script>
</head>
<body>
  <h2>Payment Successful âœ…</h2>
  <p>Click the button below to return to Telegram:</p>
<!--   <button id="myButton">Return to Telegram</button> -->
  <button onclick="redirectToTelegram()">Return to Telegram 2</button>
  <button onclick="redirectToTelegram3()">Return to Telegram 3</button>
  <button onclick="location.href='tg://resolve?domain=KanoonCharityBot&start=payment_success_' + window.location.search" type="button">Return to Telegram 4</button>
  <p>If the page does not close automatically, please close it manually.</p>
</body>
</html>
